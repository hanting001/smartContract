<div [hidden]="envState.checkWeb3" class="jumbotron bg-warning text-center">
    <h1>Wanna play?</h1>
    <p class="lead">You’ll need a safe place to store all of your bets! The perfect place is in a secure wallet like MetaMask. This will
        also act as your login to the game (no extra password needed).</p>
    <button type="button" class="btn btn-primary" (click)="installWallet()">
        Install MetaMask
    </button>
</div>

<div [hidden]="!envState.checkWeb3||envState.checkAccount" class="jumbotron bg-warning text-center">
    <h1>Your MetaMask is locked</h1>
    <p class="lead">Simply open MetaMask and follow the instructions to unlock it</p>
</div>

<div [hidden]="!envState.checkEnv" class="jumbotron">
    <h1 class="display-4">KOT Vote Token</h1>
    <p class="lead">对比赛结果进行投票，赢取ETH作为回报！
    </p>
    <hr class="my-4">
    <p>用ETH已固定汇率换取投票token，你所拥有的token数量就是你投票的权重。你可以随时已同样的汇率用<a href="javascript:void(0)" (click)="showWModal()">换回ETH</a>。</p>
    <p>可以认为持有token并积极参加投票是使用ETH进行一场投资。</p>
    <p class="lead">
        <a class="btn btn-outline-primary btn-lg" href="javascript:void(0)" (click)="showExModal()" role="button">Exchange</a>
    </p>
</div>
<ng-template #exTemplate>
    <form (ngSubmit)="exchange()" [formGroup]="form">
        <div class="card text-center  bg-info m-2">
            <div class="card-header">
                <div class="container text-center" id="chartDiv" align="center">
                    <div class="row text-center">
                        <div class="col">
                            <small class="text-light">Total Supply</small>
                        </div>
                        <div class="col">
                            <small class="text-light">Remain</small>
                        </div>
                        <div class="col">
                            <small class="text-light">Exchange Rate</small>
                        </div>
                    </div>
                    <div class="row text-center">
                        <div class="col">
                            <h5>{{totalSupply}}</h5>
                        </div>
                        <div class="col">
                            <h5>{{scTokenBalance}}</h5>
                        </div>
                        <div class="col">
                            <h5>{{rate}}</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="form-group row align-items-center">
                    <label class="col-3 col-form-label text-light text-right" style="font-size:1.2rem">Wallet Address</label>
                    <div class="col-9">
                        <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{envState.account}}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-3 col-form-label text-light text-right" style="font-size:1.2rem">Balance Of ETH</label>
                    <div class="col-9">
                        <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{balance.eth}}">
                    </div>

                </div>
                <div class="form-group row">
                    <label class="col-3 col-form-label text-light text-right" style="font-size:1.2rem">Balance Of KOT</label>
                    <div class="col-9">
                        <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{balance.token}}">
                    </div>
                </div>
                <!-- <div class="form-group row">
                        <label class="col-3 col-form-label text-right" style="font-size:1.2rem">Exchange Rate:</label>
                        <div class="col-3">
                            <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{rate}}">
                        </div>
                        <label class="col-3 col-form-label text-right" style="font-size:1.2rem"></label>
                        <div class="col-3">

                        </div>
                    </div> -->
                <div class="form-group row  pt-3 align-items-center justify-content-center">
                    <div class="input-group col-3 text-center">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon3">ETH</span>
                        </div>
                        <input type="number" class="col form-control" (keyup)="ethChange()" formControlName="ethValue">
                    </div>
                    <div class="col-1">
                        <span class="oi oi-arrow-thick-right large"></span>
                    </div>
                    <div class="input-group col-3  text-cente">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon3">KOT</span>
                        </div>
                        <input type="number" class="col form-control" (keyup)="kotChange()" formControlName="kotValue">
                    </div>
                </div>
                <div class="row border-top p-2">
                    <div class="col text-center align-middle">
                        <button type="submit" class="btn btn-outline-light">Exchange</button>
                    </div>
                </div>

            </div>
        </div>
    </form>
</ng-template>
